人生中第一次面试，仓促兴奋微紧张。这家公司是做AI套壳应用的，大部分产品体验下来，都有很严重的同质化毛病。我想可能是前端与产品过于依赖AI编程了，导致产品页面没有吸引力，也过分强调AI元素。我曾也想过做出这么一个产品，想法和实现路径都十分雷同，现在看来已能预计到我做出来的效果。

言归正传，这次面试对我帮助很大。并不仅仅从技术层面出发，更是对思想上小小的一次脱胎换骨。

### 笔试

十道题，在纸上做。这些题目多半涉及线程，设计模式，Spring等，除Spring外，我没有经验。

1. Exception和Error都继承于Throwable，有什么区别
   大概回答：Exception运行时可捕获，Error会终止程序
2. 线程池的thread.sleep(0)有什么作用
   大概回答：假暂停，往让出线程方面靠
3. 线程池有什么用，Executor()有什么缺陷
   大概回答：说了一个ThreadLocal 的使用案例，猜Executor会让线程不安全
4. 线程执行shutdown()，已经提交的任务会不会执行
   不会
   但其实是会的
5. uuid到Base64的存储过程
   真不会
6. 简述Spring的IOC
   意外的答了很多依赖注入的方式，不过也有说到无需手动new对象，由容器管理
   其实IOC的全名是Inversion of Control，应该明确说出控制反转
7. @ApplicationContext和@BeanFactory有什么区别
   猜的，说@ApplicationContext先，@BeanFactory后。主要是不知道@ApplicationContext什么时候开始
8. 认识哪些设计模式，对应的应用场景是什么
   观察者模式/单例模式/工厂模式，但不知道应用场景
9. 单例模式下的懒汉式和饿汉式
   猜懒汉式不抢，稳健不耗资源；饿汉式抢资源，快但是不安全
   但完全不是这么一回事
10. 算法：行首元素有序的二维数组，快速找到一个值。
    我用的索引+二分，笔试到这里有些不想写，用的是伪代码



### 人事面（有些奇怪，居然不是先技术后人事。也许是技术比人事忙）

1. 聊发展规划
2. 聊不做Java会做什么
3. 现在学Java学到什么程度
4. 将来准备学什么
5. 愿不愿意实习至少6个月
6. 出勤时间
7. 聊公司产品
8. 喜不喜欢旅游(因为公司做的业务和旅游相关)
9. 反问（我问面试官）：公司产品是数据驱动还是AI驱动



### 技术面

1. switch语句考察，需要对字符判空
   写得一坨，居然忘记switch语句怎么写

2. 写SQL语句，查询user表和phone表，查询有两个电话号码的用户
   不会函数，后来才发现是GROUP By

3. 问了锁的使用
   有点受不了了，真的没用过。开始和面试官的对话转为轻松了：
   我说准备锁的内容大部分是八股文，而且在数据库领域，比如读锁写锁，乐观锁悲观锁等等。实际项目中很少用到。
   面试官人不错，给我个问题：十六车道中需要四个车道，怎么锁。
   正常代码思维应该能想出来，但在当时面试一直往锁去想，一时想不出来。
   面试官的思路是引入信号量，比如用临时变量temp，先锁住四个车道并记录，结束一个就temp--。
   这是个很简单的思路，但我不知道这叫信号量，至此我觉得面试应该无了。

4. 考察了项目，我展示了Gitee

   1. 苍穹外卖：指出我HttpClient中Client重复创建的问题，让他想起了一个老程序员也喜欢这么搞，而且其实速度很快。但并不优雅，正常情况下应该使用单例
   2. 批改助手：问我文件存储在哪，为什么是团队项目，参加什么比赛

5. 反问环节：
   应该如何学习Java。（这真是有感而发，之前学的框架，上手直接做项目，很直接但也很不扎实。许多代码其实都只是表面工作量，没有涉及新的知识。而基础的掌握挺差，比如HashMap扩容机制等等，都不懂）

   回答：重视基础，不要降低标准。跑起来虽然很重要，但也要优化。Spring门槛很低，但区别高级程序员和初级程序员的就是不同的代码。一个程序员基础掌握得越扎实，越清楚哪些代码适合哪些情况。而初级程序员往往只有一种自己固定的解决方案。
   有机会要去实习，争取干久点，除非公司是诈骗。多和团队接触协作。

