# 一、初识MySQL

***Read前必看：本文档全程环境采用Window系统***

## 环境变量：

C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld作为绝对路径运行mysqld
可以使用Path环境变量配置：

```
#Path设置新建
C:\Program Files\MySQL\MySQL Server 8.0\bin
```

这样在cmd运行时就会前去这个路径下尝试查找。



## 启动MySQL

启动Server：

- 可以通过手动/服务，一般我们使用注册服务，即程序随系统的生命周期。以下为使用服务的方法：
  ```bash
  "mysqld的绝对路径" --install [-manual][服务名]	//括号表示可省略，manual表示不随系统启动而自启动(仅第一次需要)
  net start MySQL									//启动MySQL，此处MySQL为默认服务名，若上一步没有填写服务名的话
  net stop MySQL									//关闭MySQL
  ```

启动Client：
````bash
mysql -h主机名 -u用户名 -p密码
````

注意事项：

- 尽量不要在参数名与参数值中加入空格，建议`-hlocalhost`，而不是`-h localhost`。
  实际上是因为-p，也就是密码这项参数名与值之间不允许空格。
- 最好不要将密码和-p放在同行输出，这样可以通过查询操作获取密码。（最佳实践在后面）
- 若客户端与服务器在同一设备，可忽略主机名

最佳实践：
```bash
mysql -h[主机名] -u[用户名] -p
[输入密码]						//当系统提示Enter password:时才输入
```



## 进程与线程

进程强调的是强隔离性，比如一台计算机可以同时听音乐，看网页。
线程强调的是强共享性，比如后端可以使用同一资源对请求进行处理。
而线程包含在进程之中，可以把进程看作是公司，公司之间有比较强的隔离性，一般内部决策不相互影响。而线程可看作是公司中的部门，多部门之间掌握同个公司资源，但需要相互协作，避免争抢。



## MySQL运行逻辑

1. 客户端传入SQL语句至服务端
2. 若是第一次连接的话，服务端将会创建一个进程与这个客户端专门交互。[连接层]
3. 将第一次执行的SQL语句返回结果存下来，可以给下一次使用。但因为需要大量维护花销，已在MySQL8.0版本删除[缓存层]
4. 解析层
5. 优化层
6. 进入存储引擎层（即正式执行操作表）

![MySQL运行逻辑](C:\Users\HP\Documents\Obsidian Vault\Summary\img\MySQL运行逻辑.png)

